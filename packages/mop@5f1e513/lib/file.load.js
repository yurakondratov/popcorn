montageDefine("5f1e513","lib/file",{dependencies:["./converters"],factory:function(e,t,r){function i(e){this.converter=n.from();for(var t in e)this[t]=e[t];if(!this.fs)throw new Error("File must be initialized with fs object.");if(null==this.path&&null==this.converter)throw new Error("File must be initialized either with some content or a path to copy on write.")}var n=e("./converters");r.exports=i,Object.defineProperties(i.prototype,{write:{value:function(e){return this.converter&&this.converter.contentType?this.fs.write(e,this.buffer,"wb"):this.fs.copy(this.path,e)},writable:!0,configurable:!0,enumerable:!0}}),Object.keys(n.registry).forEach(function(e){Object.defineProperty(i.prototype,e,{get:function(){if(!this.converter)throw new Error("Content shelved at "+this.path);return this.converter=this.converter.to(e),this.converter.content},set:function(t){this.converter=n.from(t,e)},configurable:!0,enumerable:!0})})}});