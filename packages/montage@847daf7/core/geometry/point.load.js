montageDefine("847daf7","core/geometry/point",{dependencies:["../core"],factory:function(e,n,t){var o=e("../core").Montage,i=n.Point=o.specialize({init:{enumerable:!1,value:function(e,n){return this.x=null===e?0:e,this.y=null===n?0:n,this}},x:{enumerable:!0,value:0},y:{enumerable:!0,value:0}},{interpolate:{enumerable:!1,value:function(e,t,o,i){var r,f;return r=t.x+(o.x-t.x)*e,f=t.y+(o.y-t.y)*e,i>0&&(r=Math.round(r*i)/i,f=Math.round(f*i)/i),(new n.Point).init(r,f)}}}),r=function(e){var n,t,o,i,r=e.ownerDocument;if(e&&r){if(t=r.documentElement,o=r.body,i=r.defaultView,e!==o){if(n=e.getBoundingClientRect(),t.parentOf(e)){var f=t.clientTop||o.clientTop||0,l=t.clientLeft||o.clientLeft||0,u=i.pageYOffset||t.scrollTop||o.scrollTop,a=i.pageXOffset||t.scrollLeft||o.scrollLeft,c=n.top+u-f,d=n.left+a-l;return{top:c,left:d}}return{top:n.top,left:n.left}}return{top:o.offsetTop,left:o.offsetLeft}}return null},f=null,l=function(){i.convertPointFromNodeToPage=function(e,n){return e&&"undefined"==typeof e.x?(n?(f.x=n.x,f.y=n.y):(f.x=0,f.y=0),n=webkitConvertPointFromNodeToPage(e,f),n?(new i).init(n.x,n.y):null):null},i.convertPointFromPageToNode=function(e,n){return e&&"undefined"==typeof e.x?(n?(f.x=n.x,f.y=n.y):(f.x=0,f.y=0),n=webkitConvertPointFromPageToNode(e,f),n?(new i).init(n.x,n.y):null):null}},u=function(){i.convertPointFromNodeToPage=function(e,n){if(!e||"undefined"!=typeof e.x)return null;var t;return(t=r(e))?(new i).init((n?n.x:0)+t.left,(n?n.y:0)+t.top):(new i).init(n?n.x:0,n?n.y:0)},i.convertPointFromPageToNode=function(e,n){if(!e||"undefined"!=typeof e.x)return null;var t;return(t=r(e))?(new i).init((n?n.x:0)-t.left,(n?n.y:0)-t.top):(new i).init(n?n.x:0,n?n.y:0)}};"undefined"!=typeof WebKitPoint&&"undefined"!=typeof webkitConvertPointFromNodeToPage?(f=new WebKitPoint(0,0),l()):u()}});